{
  "fileName": "tween.js",
  "filePath": "scripts/animation/tween.js",
  "url": "https://github.com/playcanvas/engine/scripts/animation/tween.js",
  "summary": "The code defines a script called \"Tween\" that can be attached to entities in the PlayCanvas engine. The purpose of the script is to create and manage tweens, which are animations that interpolate between two values over time. The script allows the user to define multiple tweens with different properties and settings, and to trigger them in various ways.\n\nThe script uses the TWEEN.js library to create and manage the tweens. The script defines a set of attributes that can be set in the editor or via code, including the start and end values of the tween, the duration, easing function, and events to trigger at various points in the tween's lifecycle. The script also allows the user to specify a path to the property being tweened, which can be a nested property of the entity or a property of a component attached to the entity.\n\nWhen the script is initialized, it creates an array of tween instances and an array of callbacks for triggering the tweens. It also sets up event listeners for the various trigger events specified in the attributes. When a trigger event is fired, the corresponding tween is started. The script also handles enabling and disabling of the entity, pausing and resuming any playing tweens as needed.\n\nThe `start` method is called to start a tween. It creates a new TWEEN.Tween instance with the specified settings and starts it. The method also handles updating the property being tweened on each frame of the animation. The `update` event is fired each time the property is updated, and the `complete` event is fired when the tween is finished. The `repeat` event is fired each time the tween repeats, and the `stop` event is fired if the tween is explicitly stopped.\n\nFinally, the script sets up an event listener to update the TWEEN.js engine each frame. This ensures that all active tweens are updated and animated correctly.\n\nExample usage:\n\n```\n// Attach the Tween script to an entity\nvar entity = new pc.Entity();\nentity.addComponent('script');\nentity.script.create('tween', {\n    tweens: [\n        {\n            autoPlay: true,\n            path: 'position.x',\n            start: { x: 0 },\n            end: { x: 10 },\n            duration: 1000\n        },\n        {\n            event: 'myEvent',\n            path: 'rotation.y',\n            start: { x: 0 },\n            end: { x: 360 },\n            duration: 2000,\n            repeat: -1\n        }\n    ]\n});\n\n// Trigger a tween via an event\nentity.app.fire('myEvent');\n```",
  "questions": "1. What is the purpose of this code?\n- This code defines a script called \"Tween\" that allows developers to create and manage tweens (animations) for entity properties in a PlayCanvas project.\n\n2. What types of properties can be tweened using this script?\n- This script supports tweening of number, vec2, vec3, vec4, and color properties of entities.\n\n3. How can a tween be triggered to start?\n- A tween can be triggered to start immediately upon initialization of the script, or it can be triggered by a specified event name that is fired on the global application object. The script also supports delay and repeat options for the tween."
}