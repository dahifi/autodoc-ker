{
  "fileName": "mesh-decals.tsx",
  "filePath": "examples/src/examples/graphics/mesh-decals.tsx",
  "url": "https://github.com/playcanvas/engine/examples/src/examples/graphics/mesh-decals.tsx",
  "summary": "The MeshDecalsExample class is a part of the PlayCanvas engine project and is responsible for creating a demo of mesh decals. Mesh decals are textures that are applied to a mesh to create the illusion of additional detail. This class creates a scene with a ground plane, a bouncing ball, and a set of decals that are applied to the ground plane when the ball bounces. \n\nThe example function takes two parameters, a canvas element and a device type. It creates a graphics device using the createGraphicsDevice function and initializes an app using the AppBase class. It sets the canvas to fill the window and creates a plane primitive, a light, a camera, and a sphere primitive. It then creates a set of decals that are applied to the ground plane when the ball bounces. \n\nThe createDecal function generates a decal with a random size, rotation angle, and color. It creates a quad with four vertices and fills up information for all four vertices. The updateMesh function updates the required vertex streams. It updates the positions and colors when needed and updates the indices and uvs only one time, as they never change. \n\nThe class creates a mesh with a dynamic vertex buffer and a static index buffer. It creates a material with emissive texture only and sets the blend type to additive alpha blend. It creates a mesh instance and an entity with a render component to render the mesh instance. \n\nThe class sets an update function on the app's update event. It bounces the ball around in a circle with changing radius and creates a new decal at the next index when the ball crosses the ground plane. It fades out all vertex colors once a second and updates the mesh with the streams that were updated. \n\nOverall, this class demonstrates how to create a scene with mesh decals using the PlayCanvas engine. It shows how to create a mesh with a dynamic vertex buffer and a static index buffer, how to create a material with emissive texture only, and how to update the required vertex streams. It also shows how to set an update function on the app's update event to create a dynamic scene.",
  "questions": "1. What is the purpose of the MeshDecalsExample class?\n- The MeshDecalsExample class is an example of how to use mesh decals in the PlayCanvas engine.\n\n2. What assets are being loaded in this code and how are they being used?\n- The 'spark' texture asset is being loaded and used as the emissive map for the material of the mesh instance that displays the decals.\n\n3. What is the purpose of the updateMesh function and what parameters does it take?\n- The updateMesh function updates the vertex streams of the mesh with new positions and colors. It takes the mesh to update, a boolean for whether to update the positions, a boolean for whether to update the colors, and an optional boolean for whether to initialize all the streams (indices and uvs) or not."
}