{
  "fileName": "object-pool.js",
  "filePath": "src/core/object-pool.js",
  "url": "https://github.com/playcanvas/engine/src/core/object-pool.js",
  "summary": "# ObjectPool Class\n\nThe `ObjectPool` class is a utility class that provides a pool of reusable objects of the same type. The purpose of this class is to promote the reuse of objects to reduce garbage collection. \n\n## Properties\n\n### _pool\n\nAn array of object instances.\n\n### _count\n\nThe number of object instances that are currently allocated.\n\n## Constructor\n\n### constructor(constructorFunc, size)\n\nThe constructor function takes two parameters:\n\n- `constructorFunc`: The constructor function for the objects in the pool.\n- `size`: The initial number of object instances to allocate.\n\n## Methods\n\n### _resize(size)\n\nResizes the pool to the specified size. If the new size is greater than the current size, new object instances will be created using the constructor function specified in the constructor.\n\n### allocate()\n\nReturns an object instance from the pool. If no instances are available, the pool will be doubled in size and a new instance will be returned.\n\n### freeAll()\n\nAll object instances in the pool will be available again. The pool itself will not be resized.\n\n## Usage\n\nThe `ObjectPool` class can be used in any project that requires the reuse of objects to reduce garbage collection. For example, in a game engine, the `ObjectPool` class can be used to manage the creation and reuse of game objects such as bullets, enemies, or power-ups. \n\nHere is an example of how to use the `ObjectPool` class:\n\n```javascript\nimport { ObjectPool } from 'playcanvas-engine';\n\nclass Bullet {\n    constructor() {\n        // initialize bullet properties\n    }\n}\n\nconst bulletPool = new ObjectPool(Bullet, 10);\n\n// allocate a bullet from the pool\nconst bullet = bulletPool.allocate();\n\n// use the bullet\n\n// free the bullet\nbulletPool.freeAll();\n```\n\nIn this example, a pool of 10 `Bullet` objects is created using the `ObjectPool` class. When a bullet is needed, it is allocated from the pool using the `allocate()` method. When the bullet is no longer needed, it is freed using the `freeAll()` method. This way, the `Bullet` objects are reused instead of being created and destroyed every time they are needed, which reduces garbage collection and improves performance.",
  "questions": "1. What is the purpose of this code?\n- This code defines a class called `ObjectPool` which is a pool of reusable objects of the same type, designed to reduce garbage collection.\n\n2. What parameters does the constructor take?\n- The constructor takes two parameters: `constructorFunc`, which is the constructor function for the objects in the pool, and `size`, which is the initial number of object instances to allocate.\n\n3. What does the `allocate` method do?\n- The `allocate` method returns an object instance from the pool. If no instances are available, the pool will be doubled in size and a new instance will be returned."
}