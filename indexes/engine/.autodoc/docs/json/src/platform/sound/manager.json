{
  "fileName": "manager.js",
  "filePath": "src/platform/sound/manager.js",
  "url": "https://github.com/playcanvas/engine/src/platform/sound/manager.js",
  "summary": "The code defines a SoundManager class that is responsible for loading and playing audio in a PlayCanvas engine project. The SoundManager class extends the EventHandler class, which allows it to handle events. The class has a constructor that initializes some properties, including the AudioContext, which is used to play audio. The AudioContext is lazy-loaded, meaning it is only created when it is needed. If the AudioContext is not supported, a warning message is logged to the console.\n\nThe SoundManager class has several methods that allow it to control audio playback. The `playSound` method creates a new Channel object and begins playback of a sound. The `playSound3d` method creates a new Channel3d object and begins playback of a sound at a specified position in 3D space. Both methods take a Sound object as their first argument and an optional options object as their second argument. The options object can be used to set properties such as volume, loop, maxDistance, minDistance, rollOffFactor, and distanceModel.\n\nThe SoundManager class also has methods for suspending and resuming audio playback. When audio is suspended, the context is paused, and when it is resumed, the context is resumed. The class also has a `destroy` method that fires a destroy event and closes the AudioContext.\n\nThe SoundManager class has a `volume` property that can be used to set the global volume for the manager. All SoundInstances will scale their volume with this volume. The `suspended` property returns a boolean indicating whether audio playback is currently suspended.\n\nThe SoundManager class has a `context` property that returns the Web Audio API context. If the context has not been created yet, it is created when this property is accessed. If the context is not running, the class registers event listeners for user input events (click, touchstart, mousedown) that will unlock the context when triggered.\n\nOverall, the SoundManager class provides a way to load and play audio in a PlayCanvas engine project. It allows for control of audio playback, including volume, suspension, and resumption. It also handles the creation and unlocking of the Web Audio API context.",
  "questions": "1. What is the purpose of the `SoundManager` class?\n- The `SoundManager` class is used to load and play audio, as well as apply system-wide settings like global volume, suspend, and resume.\n\n2. What is the `context` property used for?\n- The `context` property is used to get the Web Audio API context, which is lazily created if it doesn't exist yet. It also registers unlock listeners if the context state is not running.\n\n3. What are the `playSound` and `playSound3d` methods used for?\n- The `playSound` method is used to create a new `Channel` and begin playback of the sound, while the `playSound3d` method is used to create a new `Channel3d` and begin playback of the sound at the specified position in 3D space. Both methods return the channel playing the sound."
}