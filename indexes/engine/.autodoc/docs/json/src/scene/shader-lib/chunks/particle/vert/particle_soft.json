{
  "fileName": "particle_soft.js",
  "filePath": "src/scene/shader-lib/chunks/particle/vert/particle_soft.js",
  "url": "https://github.com/playcanvas/engine/src/scene/shader-lib/chunks/particle/vert/particle_soft.js",
  "summary": "This code exports a GLSL shader code as a default value. The purpose of this code is to calculate the linear depth of a given position in a 3D scene. The `getLinearDepth` function takes in a `localPos` parameter, which is the position of the current pixel being rendered in local space. The function then calculates the linear depth of the pixel by using the formula `depth = -viewMatrix * modelMatrix * vec4(localPos, 1.0)`. \n\nThe `vDepth` variable is then assigned the value returned by the `getLinearDepth` function. This variable is likely used in other parts of the shader code to perform depth-based operations, such as fog or shadow calculations.\n\nHere is an example of how this code may be used in a larger project:\n\n```glsl\n// vertex shader code\nattribute vec3 aPosition;\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\n\nvarying float vDepth;\n\nvoid main() {\n    vec4 worldPos = modelMatrix * vec4(aPosition, 1.0);\n    vec4 viewPos = viewMatrix * worldPos;\n    gl_Position = projectionMatrix * viewPos;\n    vDepth = getLinearDepth(worldPos.xyz);\n}\n```\n\nIn this example, the `getLinearDepth` function is called in the vertex shader to calculate the linear depth of each vertex in the scene. The resulting `vDepth` value is then passed to the fragment shader, where it can be used to perform depth-based operations. Overall, this code plays an important role in rendering 3D scenes with accurate depth information.",
  "questions": "1. What is the purpose of the `getLinearDepth` function?\n   - The `getLinearDepth` function is used to calculate the linear depth of a given position in the scene.\n2. What is the data type of `vDepth`?\n   - The data type of `vDepth` is not specified in this code snippet, but it is likely a variable used to store the calculated linear depth value.\n3. What is the context in which this code is used?\n   - Without additional context, it is unclear where and how this code is being used within the PlayCanvas engine."
}