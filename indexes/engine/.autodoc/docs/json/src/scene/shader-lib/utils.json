{
  "fileName": "utils.js",
  "filePath": "src/scene/shader-lib/utils.js",
  "url": "https://github.com/playcanvas/engine/src/scene/shader-lib/utils.js",
  "summary": "The code defines three functions related to creating and processing shaders in the PlayCanvas engine. The `createShader` function takes a graphics device, vertex shader name, fragment shader name, and an optional boolean flag for using transform feedback. It returns a new `Shader` object created from the specified shader chunks. The `createShaderFromCode` function takes a graphics device, vertex shader code, fragment shader code, a unique name for the shader, an optional object mapping vertex shader attribute names to semantics, and an optional boolean flag for using transform feedback. It returns a new `Shader` object created from the supplied shader code. This function also caches the shader in the `ProgramLibrary` to avoid creating duplicate shaders. The `processShader` function takes a `Shader` object and shader processing options, and returns a processed `Shader` object. This function utilizes the `ProgramLibrary` cache to avoid processing the same shader multiple times.\n\nThese functions are useful for creating and processing shaders in the PlayCanvas engine. They allow developers to create shaders from named chunks or from custom code, and to process shaders with different options. The `Shader` object is a key component of the engine's rendering pipeline, and is used to define how 3D models are rendered on the screen. By providing these functions, the PlayCanvas engine makes it easier for developers to create and customize shaders for their projects.\n\nExample usage of `createShader`:\n\n```\nconst device = app.graphicsDevice;\nconst vsName = 'basic';\nconst fsName = 'basic';\nconst useTransformFeedback = false;\nconst shader = createShader(device, vsName, fsName, useTransformFeedback);\n```\n\nExample usage of `createShaderFromCode`:\n\n```\nconst device = app.graphicsDevice;\nconst vsCode = `\n    attribute vec3 vertex_position;\n    uniform mat4 matrix_model;\n    uniform mat4 matrix_viewProjection;\n    void main() {\n        gl_Position = matrix_viewProjection * matrix_model * vec4(vertex_position, 1.0);\n    }\n`;\nconst fsCode = `\n    precision mediump float;\n    void main() {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n    }\n`;\nconst uniqueName = 'custom-shader';\nconst attributes = {\n    vertex_position: pc.SEMANTIC_POSITION\n};\nconst useTransformFeedback = false;\nconst shader = createShaderFromCode(device, vsCode, fsCode, uniqueName, attributes, useTransformFeedback);\n```\n\nExample usage of `processShader`:\n\n```\nconst shader = ...; // get a Shader object\nconst processingOptions = {\n    skin: true,\n    instancing: true\n};\nconst processedShader = processShader(shader, processingOptions);\n```",
  "questions": "1. What is the purpose of the `createShader` function?\n   \n   The `createShader` function creates a new shader from named shader chunks, with the option to use transform feedback.\n\n2. What is the purpose of the `createShaderFromCode` function?\n   \n   The `createShaderFromCode` function creates a new shader from supplied source code, with the option to specify vertex shader attributes and use transform feedback.\n\n3. What is the purpose of the `processShader` function?\n   \n   The `processShader` function processes a shader using shader processing options, utilizing cache of the ProgramLibrary."
}