{
  "fileName": "asset-list-loader.js",
  "filePath": "src/framework/asset/asset-list-loader.js",
  "url": "https://github.com/playcanvas/engine/src/framework/asset/asset-list-loader.js",
  "summary": "The `AssetListLoader` class is used to load a group of assets and fire a callback when all assets are loaded. It is a subclass of `EventHandler` and is used to manage a list of assets that need to be loaded. \n\nThe constructor takes two parameters: an array of `Asset` objects or an array of asset IDs to load, and an `AssetRegistry` object that is used to load and manage the assets. The `AssetListLoader` object creates a new `Set` for each of the following: `_assets`, `_loadingAssets`, and `_waitingAssets`. The `_assets` set contains all the assets that need to be loaded, the `_loadingAssets` set contains the assets that are currently being loaded, and the `_waitingAssets` set contains the assets that are waiting to be loaded. \n\nThe `load` method starts loading the asset list and calls the `done` callback when all assets have loaded or failed to load. The `ready` method sets a callback that will be called when all assets in the list have been loaded. \n\nThe `_onLoad` method is called when an asset is loaded. It checks if the asset is one that the `AssetListLoader` object cares about, and if so, it removes the asset from the `_loadingAssets` set and fires a `progress` event. If all assets have been loaded, it calls the `_loadingComplete` method. \n\nThe `_onError` method is called when an asset fails to load. It checks if the asset is one that the `AssetListLoader` object cares about, and if so, it adds the asset to the `_failed` array, removes the asset from the `_loadingAssets` set, and fires an `error` event. If all assets have been loaded, it calls the `_loadingComplete` method. \n\nThe `_loadingComplete` method is called when all assets have been loaded or failed to load. It sets the `_loaded` flag to true, removes the event listeners for `load` and `error`, and fires either a `load` or `error` event depending on whether any assets failed to load. \n\nThe `destroy` method removes all references to the `AssetListLoader` object. It removes any outstanding listeners, clears the `_waitingAssets` set, and removes the `progress` and `load` event listeners. \n\nOverall, the `AssetListLoader` class is an important part of the PlayCanvas engine project as it allows developers to load a group of assets and fire a callback when all assets are loaded. This is useful for loading complex scenes that require multiple assets to be loaded before they can be displayed.",
  "questions": "1. What is the purpose of the `AssetListLoader` class?\n- The `AssetListLoader` class is used to load a group of assets and fires a callback when all assets are loaded.\n\n2. What parameters does the `AssetListLoader` constructor take?\n- The `AssetListLoader` constructor takes an array of `Asset` objects or an array of asset IDs to load, and the application's asset registry.\n\n3. What happens if an asset fails to load?\n- If an asset fails to load, it is added to the `_failed` list and the `load` function's callback is called with an error message and the list of failed assets."
}