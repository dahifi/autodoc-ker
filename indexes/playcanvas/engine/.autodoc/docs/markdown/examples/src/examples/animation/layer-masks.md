[View code on GitHub](https://github.com/playcanvas/engine/examples/src/examples/animation/layer-masks.tsx)

The code is an example of how to use the PlayCanvas engine to create a 3D animation with layer masks. The code imports several modules from the PlayCanvas engine and other libraries. The `LayerMasksExample` class is defined, which has two static properties `CATEGORY` and `NAME`, and a static property `WEBGPU_ENABLED`. The `controls` method returns a JSX element that contains several `Panel` components, each with `LabelGroup`, `SelectInput`, `BooleanInput`, and `SliderInput` components. These components are used to control the animation's layer masks, blend types, and other options. The `example` method takes a canvas element, a device type, and some data as arguments. It creates a `pc.GraphicsDevice` object, sets up an `AppBase` object, loads some assets, creates some entities, and assigns animations to them. It also sets up event listeners to respond to changes in the data object made by the control panel. Finally, it starts the app.

The `example` method creates several entities, including a camera entity, a light entity, and a model entity. The model entity is created from a loaded model using the `instantiateRenderEntity` method. The `anim` component is added to the model entity, and animations are assigned to it. The `baseLayer` is the default layer, and the `assignAnimation` method is used to assign animations to it. The `addLayer` method is used to create a new layer for the upper body, with additive layer blending. A mask is created for the upper body layer, and animations are assigned to it. The `transition` method is used to transition between animations. The `weight` property is used to control the weight of each layer. The `mask` property is used to set the mask for the upper body layer. The `drawSkeleton` function is used to draw the skeleton of the model entity. The `app.on('update')` event listener is used to call the `drawSkeleton` function every frame. The `data.on('*:set')` event listener is used to respond to changes in the data object made by the control panel.

The `controls` method returns a JSX element that contains several `Panel` components, each with `LabelGroup`, `SelectInput`, `BooleanInput`, and `SliderInput` components. These components are used to control the animation's layer masks, blend types, and other options. For example, the `SelectInput` component is used to select the active state for the full body layer and the upper body layer. The `BooleanInput` component is used to toggle the use of the mask for the upper body layer. The `SliderInput` component is used to control the blend of the base layer and the upper body layer.

Overall, this code demonstrates how to use the PlayCanvas engine to create a 3D animation with layer masks. The `LayerMasksExample` class defines a method that creates several entities, assigns animations to them, and sets up event listeners to respond to changes in the data object made by the control panel. The `controls` method returns a JSX element that contains several components that are used to control the animation's layer masks, blend types, and other options.
## Questions: 
 1. What is the purpose of the `controls` method in the `LayerMasksExample` class?
- The `controls` method returns a JSX element that represents the UI controls for the layer masks example.
2. What assets are being loaded in the `example` method of the `LayerMasksExample` class?
- The `example` method loads several assets including a 3D model, animations, a texture, and a script.
3. What does the `drawSkeleton` function do?
- The `drawSkeleton` function recursively draws lines between the joints of a 3D model's skeleton, with the color of the lines determined by the weight of the corresponding animation targets.