{
  "fileName": "sprite.js",
  "filePath": "src/framework/handlers/sprite.js",
  "url": "https://github.com/playcanvas/engine/src/framework/handlers/sprite.js",
  "summary": "The code defines a `SpriteHandler` class that is used to handle the loading and processing of `Sprite` resources in the PlayCanvas engine. The `SpriteHandler` class implements the `ResourceHandler` interface, which defines the methods that must be implemented to handle a specific type of resource. \n\nThe `SpriteHandler` class has several methods that are used to load, open, and patch sprite resources. The `load` method is used to load the sprite resource from a URL. If the URL is a JSON file, the method uses the `http.get` method to retrieve the file and passes the response to the callback function. The `open` method is used to create a new `Sprite` object and store the data temporarily if the URL is present. The `patch` method is used to set the sprite data and update the sprite atlas. \n\nThe `SpriteHandler` class also has two helper functions, `onTextureAtlasLoaded` and `onTextureAtlasAdded`, which are used to handle the loading and adding of texture atlas assets. These functions are called with the scope of the sprite asset and are used to set the sprite atlas when the texture atlas asset is loaded.\n\nOverall, the `SpriteHandler` class is an important part of the PlayCanvas engine as it handles the loading and processing of sprite resources. It provides a way to create and update sprite objects and set their properties, such as the render mode, pixels per unit, and frame keys. The `SpriteHandler` class also handles the loading of texture atlas assets, which are used to define the texture regions for the sprite frames.",
  "questions": "1. What is the purpose of the `onTextureAtlasLoaded` function?\n- The `onTextureAtlasLoaded` function is called when a texture atlas is loaded and sets the atlas resource on the sprite asset.\n\n2. What is the `SpriteHandler` class used for?\n- The `SpriteHandler` class is a resource handler used for loading `Sprite` resources.\n\n3. What happens in the `_updateAtlas` method?\n- The `_updateAtlas` method loads the texture atlas asset and sets the atlas resource on the sprite asset. If the atlas asset is not yet loaded, it registers event listeners to load the asset and set the atlas resource when it is loaded."
}